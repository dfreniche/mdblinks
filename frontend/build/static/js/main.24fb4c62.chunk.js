(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{255:function(e,t,n){},256:function(e,t,n){},333:function(e,t){},335:function(e,t){},374:function(e,t){},376:function(e,t){},404:function(e,t){},406:function(e,t){},407:function(e,t){},412:function(e,t){},414:function(e,t){},420:function(e,t){},422:function(e,t){},441:function(e,t){},453:function(e,t){},456:function(e,t){},463:function(e,t,n){"use strict";n.r(t),n.d(t,"globalStyles",(function(){return se}));var r=n(27),a=n(2),c=n.n(a),i=n(45),o=n.n(i),l=n(16),s=(n(255),n(256),n(9)),u=n(31),d=n(235),f=n(8);function b(e){var t={width:"".concat(48,"px"),marginRight:"".concat(24,"px")};return Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(f.jsx)(d.a,{style:t,height:48}),Object(f.jsx)(u.b,{children:e.title})]})}var j=n(85),O=n(44),h=n(17);function m(e){var t=e.className,n=Object(h.f)();return Object(f.jsxs)(j.a,{"aria-label":"Navigation Bar",className:t,children:[Object(f.jsx)(j.b,{"aria-label":"Home",as:O.b,active:"/"===n.pathname,to:"/",children:"Home"}),Object(f.jsx)(j.b,{"aria-label":"Short URLs",as:O.b,active:"/app/routes"===n.pathname,to:"/app/routes",children:"Short URLs"}),Object(f.jsx)(j.b,{"aria-label":"Dashboard",as:O.b,active:"/app/stats"===n.pathname,to:"/app/stats",children:"Dashboard"})]})}var p,x,g,w,v=n(0),y=Object(v.css)(p||(p=Object(r.a)(['\n  display: grid;\n  grid-template:\n    [header-start] "header header" 107px [header-end body-start]\n    "side-nav body" auto [body-end] / auto 1fr;\n  width: 100vw;\n  max-width: 100%;\n  height: 100vh;\n  min-width: 767px;\n  margin: 0px;\n']))),S=Object(v.css)(x||(x=Object(r.a)(["\n  grid-area: header;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"]))),C=Object(v.css)(g||(g=Object(r.a)(["\n  grid-area: side-nav;\n"]))),k=Object(v.css)(w||(w=Object(r.a)(["\n  grid-area: body;\n  padding: 12px;\n"])));function A(e){return Object(f.jsxs)("div",{className:y,children:[Object(f.jsx)("section",{className:S,children:Object(f.jsx)(b,{title:"URL Shortener"})}),Object(f.jsx)(m,{className:C}),Object(f.jsx)("section",{className:k,children:Object(f.jsx)(h.a,{})})]})}var E=n(40),M={AUTH0:{domain:"mdb-atlas.us.auth0.com",clientId:"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",redirectUri:"".concat(window.location.origin),audience:"mdb-atlas"},REALM:{appId:"admin-toxzg"}};function I(){var e=Object(E.b)().isAuthenticated;return Object(f.jsxs)(c.a.Fragment,{children:["Welcome to ",Object(f.jsx)("a",{href:"http://mdb.link",children:"mdb.link"})," admin UI.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),!e&&Object(f.jsx)(O.b,{to:"/login",children:"Login"})]})}var z=n(7),L=n(10),R=n(15),B=n(35),N=n(246),D=n(150),U=n(86),W=n(248),P=n(71),V=n(26),X=n(111),F=n(147);function T(e){var t=Object(a.useState)(null),n=Object(R.a)(t,2),r=n[0],c=n[1],i=e.appId,o=Object(E.b)(),l=o.isAuthenticated,s=o.getAccessTokenSilently;Object(a.useEffect)((function(){function e(){return(e=Object(L.a)(Object(z.a)().mark((function e(){var t,n,r,a;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new F.a({id:i}),e.next=3,s({audience:"mdb-atlas"});case 3:return n=e.sent,r=F.b.jwt(n),e.prev=5,e.next=8,t.logIn(r);case 8:return a=e.sent,c(a),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(5),console.error("Failed to log in",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,s,i]);var u={realmUser:r};return Object(f.jsx)(K.Provider,{value:u,children:e.children})}var H,Y,J,G,Q,_,q,K=Object(a.createContext)({realmUser:null}),Z=n(243);function $(){var e,t=Object(a.useState)(!1),n=Object(R.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(!1),s=Object(R.a)(l,2),d=s[0],b=s[1],j=Object(a.useState)(""),O=Object(R.a)(j,2),h=O[0],m=O[1],p=Object(a.useState)(!1),x=Object(R.a)(p,2),g=x[0],w=x[1],y=Object(a.useState)(""),S=Object(R.a)(y,2),C=S[0],k=S[1],A=Object(a.useState)({}),E=Object(R.a)(A,2),M=E[0],I=E[1],F=Object(a.useState)(""),T=Object(R.a)(F,2),G=T[0],Q=T[1],_=Object(a.useState)(""),q=Object(R.a)(_,2),$=q[0],ee=q[1],te=Object(a.useState)(""),ne=Object(R.a)(te,2),re=ne[0],ae=ne[1],ce=Object(a.useState)(""),ie=Object(R.a)(ce,2),oe=ie[0],le=ie[1],se=Object(a.useState)(!0),ue=Object(R.a)(se,2),de=ue[0],fe=ue[1],be=Object(a.useState)([]),je=Object(R.a)(be,2),Oe=je[0],he=je[1],me=Object(a.useContext)(K).realmUser,pe=null===me||void 0===me?void 0:me.id,xe=Object(v.css)(H||(H=Object(r.a)(["\n    text-align: center;\n  "]))),ge=Object(v.css)(Y||(Y=Object(r.a)(["\n  \n  "]))),we=Object(v.css)(J||(J=Object(r.a)(["\n    text-align: right;\n  "]))),ve=Object(a.useRef)(null),ye=Object(a.useCallback)(Object(L.a)(Object(z.a)().mark((function e(){var t;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me.functions.getAllRoutes();case 4:t=e.sent,he(t);case 6:case"end":return e.stop()}}),e)}))),[me]),Se=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t){return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.functions.deleteRoute(t);case 2:ye();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(L.a)(Object(z.a)().mark((function e(){return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.functions.insertRoute({route:G,to:oe,title:$,description:re,isPublic:de});case 2:return e.next=4,ye();case 4:Q(""),le(""),ae(""),ee(""),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t,n){var r;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(!0);case 2:m("mdb.link".concat(t)),r=ve.current,Z.toCanvas(r,n,{width:480,color:{dark:"#023430"}},(function(e){e&&console.error(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t){var n;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0),k(t),n=me.functions.getRouteStats(t),I(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ye()}),[ye]),Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(u.c,{children:"List of Short URLs"}),Object(f.jsx)("p",{className:we,children:Object(f.jsx)(P.a,{onClick:function(){return o(!0)},variant:"primary",leftGlyph:Object(f.jsx)(V.a,{glyph:"Plus"}),children:"Insert New Short URL"})}),Object(f.jsxs)(N.a,{open:i,onConfirm:Ce,onCancel:function(){return o(!1)},title:"Add New Short URL",buttonText:"Save New Shortie",children:["Create a new short route here.",Object(f.jsx)(U.a,{label:"Short Route",description:"Route starting with '/'",placeholder:"/route",onChange:function(e){return Q(e.target.value)},value:G}),Object(f.jsx)(U.a,{label:"Destination",description:"Enter a destination URL",placeholder:"https://example.com",onChange:function(e){return le(e.target.value)},value:oe}),Object(f.jsx)(U.a,{label:"Title",description:"Shown in the public list when no match is found",placeholder:"",onChange:function(e){return ee(e.target.value)},value:$}),Object(f.jsx)(U.a,{label:"Description",description:"Shown in the link previews",placeholder:"",onChange:function(e){return ae(e.target.value)},value:re}),Object(f.jsx)(W.a,{onChange:function(e){return fe(!de)},label:"Is this item public?",checked:de})]}),Object(f.jsxs)(D.a,{open:d,setOpen:b,className:xe,children:[Object(f.jsxs)(u.d,{children:["QR Code for ",h]}),Object(f.jsx)("canvas",{ref:ve,width:"300"})]}),Object(f.jsxs)(D.a,{open:g,setOpen:w,className:ge,children:[Object(f.jsxs)(u.d,{children:["Stats for ",C]}),Object(f.jsxs)(u.a,{children:["Number of visitors in the last 7 days: ",(null===M||void 0===M||null===(e=M.stats)||void 0===e?void 0:e.visits)||"0"]})]}),Object(f.jsx)(B.c,{data:Oe,columns:[Object(f.jsx)(B.d,{label:"Short URL",sortBy:function(e){return e.route}}),Object(f.jsx)(B.d,{label:"Destination",sortBy:function(e){return e.to}}),Object(f.jsx)(B.d,{label:"Title",sortBy:function(e){return e.title}}),Object(f.jsx)(B.d,{label:"Public"}),Object(f.jsx)(B.d,{label:"Actions"})],children:function(e){var t=e.datum;return Object(f.jsxs)(B.b,{children:[Object(f.jsx)(B.a,{children:t.route}),Object(f.jsx)(B.a,{children:t.to}),Object(f.jsx)(B.a,{children:t.title||" "}),Object(f.jsx)(B.a,{children:t.isPublic?"Yes":"No"}),Object(f.jsxs)(B.a,{children:[pe===t.owner&&Object(f.jsx)(X.a,{darkMode:!0,"aria-label":"Delete",onClick:function(){return Se(t._id.toString())},children:Object(f.jsx)(V.a,{glyph:"Trash",fill:"#aa0000"})}),Object(f.jsx)(X.a,{darkMode:!0,"aria-label":"QRCode",onClick:function(){return ke(t.route,t.to)},children:Object(f.jsx)(V.a,{glyph:"Sweep"})}),Object(f.jsx)(X.a,{darkMode:!0,"aria-label":"Chart",onClick:function(){return Ae(t.route)},children:Object(f.jsx)(V.a,{glyph:"Charts"})})]})]},t._id)}})]})}function ee(){var e=Object(E.b)().loginWithRedirect,t=function(){var t=Object(L.a)(Object(z.a)().mark((function t(){return Object(z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Object(v.css)(G||(G=Object(r.a)(["\n    grid-area: header;\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    padding: 24px;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n  "]))),a=Object(v.css)(Q||(Q=Object(r.a)(["\n    padding: 24px;\n    align-items: center;\n  "])));return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("section",{className:n,children:Object(f.jsx)(b,{title:"Welcome!"})}),Object(f.jsxs)("section",{className:a,children:[Object(f.jsx)(u.d,{children:"Please login"}),Object(f.jsx)(u.a,{children:"You can use the button below to open a session."}),Object(f.jsx)(P.a,{variant:"primary",onClick:function(){return t()},children:"Log In"})]})]})}function te(){var e=Object(E.b)().logout,t=function(){var t=Object(L.a)(Object(z.a)().mark((function t(){return Object(z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Object(v.css)(_||(_=Object(r.a)(["\n    grid-area: header;\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    padding: 24px;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n  "]))),a=Object(v.css)(q||(q=Object(r.a)(["\n    padding: 24px;\n    align-items: center;\n  "])));return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("section",{className:n,children:Object(f.jsx)(b,{title:"Get outta here!"})}),Object(f.jsxs)("section",{className:a,children:[Object(f.jsx)(u.d,{children:"Please logout"}),Object(f.jsx)(u.a,{children:"You can use the button below to close a session."}),Object(f.jsx)(P.a,{variant:"primary",onClick:function(){return t()},children:"Log Out"})]})]})}var ne=n(247);function re(){return Object(a.useEffect)((function(){new ne.a({baseUrl:"https://charts.mongodb.com/charts-mdb-link-tcawx"}).createDashboard({dashboardId:"6304b9d7-df9a-46e5-8fc2-687fa31be646",height:"700px",widthMode:"scale",heightMode:"fixed"}).render(document.getElementById("dashboard"))}),[]),Object(f.jsx)(a.Fragment,{children:Object(f.jsx)("div",{id:"dashboard"})})}function ae(){return Object(E.b)().isAuthenticated?Object(f.jsx)(h.a,{}):Object(f.jsx)("div",{children:"You need to login to see this page"})}var ce,ie=function(){return Object(f.jsx)(E.a,Object(l.a)(Object(l.a)({},M.AUTH0),{},{children:Object(f.jsx)(T,{appId:M.REALM.appId,children:Object(f.jsx)(s.c,{children:Object(f.jsx)(O.a,{children:Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{path:"/login",element:Object(f.jsx)(ee,{})}),Object(f.jsx)(h.b,{path:"/logout",element:Object(f.jsx)(te,{})}),Object(f.jsxs)(h.b,{path:"/",element:Object(f.jsx)(A,{}),children:[Object(f.jsxs)(h.b,{path:"app",element:Object(f.jsx)(ae,{}),children:[Object(f.jsx)(h.b,{path:"routes",element:Object(f.jsx)($,{})}),Object(f.jsx)(h.b,{path:"stats",element:Object(f.jsx)(re,{})})]}),Object(f.jsx)(h.b,{path:"/",element:Object(f.jsx)(I,{})})]})]})})})})}))},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,467)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},le="".concat("https://d2va9gm4j17fy9.cloudfront.net","/fonts"),se=Object(v.css)(ce||(ce=Object(r.a)(["\n  /**\n   * Euclid\n   */\n\n  /* Semibold */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Semibold.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: normal;\n  }\n\n  /* Semibold Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: italic;\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Medium.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: normal;\n  }\n\n  /* Medium Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: italic;\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Regular.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: normal;\n  }\n\n  /* Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: italic;\n  }\n\n  /**\n   * Value Serif\n   */\n\n  /* Bold */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 700;\n    src: url('","value-serif/MongoDBValueSerif-Bold.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Bold.woff2') format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Bold.ttf')\n        format('truetype');\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 500;\n    src: url('","value-serif/MongoDBValueSerif-Medium.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Medium.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Medium.ttf')\n        format('truetype');\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 400;\n    src: url('","value-serif/MongoDBValueSerif-Regular.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Regular.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Regular.ttf')\n        format('truetype');\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: normal;\n    src: url('","/akzidgrostdreg.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdreg.eot?#iefix')\n        format('embedded-opentype'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdreg.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdreg.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: 600;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: bold;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  html {\n    font-family: 'Euclid Circular A', 'Akzidenz', 'Helvetica Neue', Helvetica,\n      Arial, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n"])),le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)("div",{className:se,children:Object(f.jsx)(ie,{})})}),document.getElementById("root")),oe()}},[[463,1,2]]]);
//# sourceMappingURL=main.24fb4c62.chunk.js.map