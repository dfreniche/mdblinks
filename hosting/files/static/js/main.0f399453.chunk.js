(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{255:function(e,t,n){},256:function(e,t,n){},333:function(e,t){},335:function(e,t){},374:function(e,t){},376:function(e,t){},404:function(e,t){},406:function(e,t){},407:function(e,t){},412:function(e,t){},414:function(e,t){},420:function(e,t){},422:function(e,t){},441:function(e,t){},453:function(e,t){},456:function(e,t){},463:function(e,t,n){"use strict";n.r(t),n.d(t,"globalStyles",(function(){return ie}));var r=n(30),a=n(2),c=n.n(a),i=n(43),o=n.n(i),l=n(16),s=(n(255),n(256),n(9)),u=n(45),f=n(235),d=n(8);function b(e){var t={width:"".concat(48,"px"),marginRight:"".concat(24,"px")};return Object(d.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(d.jsx)(f.a,{style:t,height:48}),Object(d.jsx)(u.b,{children:e.title})]})}var j=n(84),h=n(42),O=n(17);function m(e){var t=e.className,n=Object(O.f)();return Object(d.jsxs)(j.a,{"aria-label":"Navigation Bar",className:t,children:[Object(d.jsx)(j.b,{"aria-label":"Home",as:h.b,active:"/"===n.pathname,to:"/",children:"Home"}),Object(d.jsx)(j.b,{"aria-label":"Short URLs",as:h.b,active:"/app/routes"===n.pathname,to:"/app/routes",children:"Short URLs"}),Object(d.jsx)(j.b,{"aria-label":"Dashboard",as:h.b,active:"/app/stats"===n.pathname,to:"/app/stats",children:"Dashboard"})]})}var p,x,g,w,v=n(0),y=Object(v.css)(p||(p=Object(r.a)(['\n  display: grid;\n  grid-template:\n    [header-start] "header header" 107px [header-end body-start]\n    "side-nav body" auto [body-end] / auto 1fr;\n  width: 100vw;\n  max-width: 100%;\n  height: 100vh;\n  min-width: 767px;\n  margin: 0px;\n']))),S=Object(v.css)(x||(x=Object(r.a)(["\n  grid-area: header;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"]))),C=Object(v.css)(g||(g=Object(r.a)(["\n  grid-area: side-nav;\n"]))),k=Object(v.css)(w||(w=Object(r.a)(["\n  grid-area: body;\n  padding: 12px;\n"])));function A(e){return Object(d.jsxs)("div",{className:y,children:[Object(d.jsx)("section",{className:S,children:Object(d.jsx)(b,{title:"URL Shortener"})}),Object(d.jsx)(m,{className:C}),Object(d.jsx)("section",{className:k,children:Object(d.jsx)(O.a,{})})]})}var E=n(50),M={AUTH0:{domain:"mdb-atlas.us.auth0.com",clientId:"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",redirectUri:"".concat(window.location.origin),audience:"mdb-atlas"},REALM:{appId:"admin-toxzg"}};function I(){var e=Object(E.b)().isAuthenticated;return Object(d.jsxs)(c.a.Fragment,{children:["Welcome to ",Object(d.jsx)("a",{href:"http://mdb.link",children:"mdb.link"})," admin UI.",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),!e&&Object(d.jsx)(h.b,{to:"/login",children:"Login"})]})}var z=n(7),L=n(10),R=n(15),B=n(34),N=n(246),D=n(150),U=n(85),W=n(248),P=n(107),V=n(26),X=n(111),T=n(147);function F(e){var t=Object(a.useState)(null),n=Object(R.a)(t,2),r=n[0],c=n[1],i=e.appId,o=Object(E.b)(),l=o.isAuthenticated,s=o.getAccessTokenSilently;Object(a.useEffect)((function(){function e(){return(e=Object(L.a)(Object(z.a)().mark((function e(){var t,n,r,a;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T.a({id:i}),e.next=3,s({audience:"mdb-atlas"});case 3:return n=e.sent,r=T.b.jwt(n),e.prev=5,e.next=8,t.logIn(r);case 8:return a=e.sent,c(a),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(5),console.error("Failed to log in",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,s,i]);var u={realmUser:r};return Object(d.jsx)(G.Provider,{value:u,children:e.children})}var H,J,Y,Q,_,G=Object(a.createContext)({realmUser:null}),q=n(243);function K(){var e,t=Object(a.useState)(!1),n=Object(R.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(!1),s=Object(R.a)(l,2),f=s[0],b=s[1],j=Object(a.useState)(""),h=Object(R.a)(j,2),O=h[0],m=h[1],p=Object(a.useState)(!1),x=Object(R.a)(p,2),g=x[0],w=x[1],y=Object(a.useState)(""),S=Object(R.a)(y,2),C=S[0],k=S[1],A=Object(a.useState)({}),E=Object(R.a)(A,2),M=E[0],I=E[1],T=Object(a.useState)(""),F=Object(R.a)(T,2),Q=F[0],_=F[1],K=Object(a.useState)(""),Z=Object(R.a)(K,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(R.a)(te,2),re=ne[0],ae=ne[1],ce=Object(a.useState)(""),ie=Object(R.a)(ce,2),oe=ie[0],le=ie[1],se=Object(a.useState)(!0),ue=Object(R.a)(se,2),fe=ue[0],de=ue[1],be=Object(a.useState)([]),je=Object(R.a)(be,2),he=je[0],Oe=je[1],me=Object(a.useContext)(G).realmUser,pe=null===me||void 0===me?void 0:me.id,xe=Object(v.css)(H||(H=Object(r.a)(["\n    text-align: center;\n  "]))),ge=Object(v.css)(J||(J=Object(r.a)(["\n  \n  "]))),we=Object(v.css)(Y||(Y=Object(r.a)(["\n    text-align: right;\n  "]))),ve=Object(a.useRef)(null),ye=Object(a.useCallback)(Object(L.a)(Object(z.a)().mark((function e(){var t;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me.functions.getAllRoutes();case 4:t=e.sent,Oe(t);case 6:case"end":return e.stop()}}),e)}))),[me]),Se=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t){return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.functions.deleteRoute(t);case 2:ye();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(L.a)(Object(z.a)().mark((function e(){return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.functions.insertRoute({route:Q,to:oe,title:$,description:re,isPublic:fe});case 2:return e.next=4,ye();case 4:_(""),le(""),ae(""),ee(""),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t,n){var r;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(!0);case 2:m("mdb.link".concat(t)),r=ve.current,q.toCanvas(r,n,{width:480,color:{dark:"#023430"}},(function(e){e&&console.error(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(L.a)(Object(z.a)().mark((function e(t){var n;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0),k(t),n=me.functions.getRouteStats(t),I(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ye()}),[ye]),Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)(u.c,{children:"List of Short URLs"}),Object(d.jsx)("p",{className:we,children:Object(d.jsx)(P.a,{onClick:function(){return o(!0)},variant:"primary",leftGlyph:Object(d.jsx)(V.a,{glyph:"Plus"}),children:"Insert New Short URL"})}),Object(d.jsxs)(N.a,{open:i,onConfirm:Ce,onCancel:function(){return o(!1)},title:"Add New Short URL",buttonText:"Save New Shortie",children:["Create a new short route here.",Object(d.jsx)(U.a,{label:"Short Route",description:"Route starting with '/'",placeholder:"/route",onChange:function(e){return _(e.target.value)},value:Q}),Object(d.jsx)(U.a,{label:"Destination",description:"Enter a destination URL",placeholder:"https://example.com",onChange:function(e){return le(e.target.value)},value:oe}),Object(d.jsx)(U.a,{label:"Title",description:"Shown in the public list when no match is found",placeholder:"",onChange:function(e){return ee(e.target.value)},value:$}),Object(d.jsx)(U.a,{label:"Description",description:"Shown in the link previews",placeholder:"",onChange:function(e){return ae(e.target.value)},value:re}),Object(d.jsx)(W.a,{onChange:function(e){return de(!fe)},label:"Is this item public?",checked:fe})]}),Object(d.jsxs)(D.a,{open:f,setOpen:b,className:xe,children:[Object(d.jsxs)(u.d,{children:["QR Code for ",O]}),Object(d.jsx)("canvas",{ref:ve,width:"300"})]}),Object(d.jsxs)(D.a,{open:g,setOpen:w,className:ge,children:[Object(d.jsxs)(u.d,{children:["Stats for ",C]}),Object(d.jsxs)(u.a,{children:["Number of visitors in the last 7 days: ",(null===M||void 0===M||null===(e=M.stats)||void 0===e?void 0:e.visits)||"0"]})]}),Object(d.jsx)(B.c,{data:he,columns:[Object(d.jsx)(B.d,{label:"Short URL",sortBy:function(e){return e.route}}),Object(d.jsx)(B.d,{label:"Destination",sortBy:function(e){return e.to}}),Object(d.jsx)(B.d,{label:"Title",sortBy:function(e){return e.title}}),Object(d.jsx)(B.d,{label:"Public"}),Object(d.jsx)(B.d,{label:"Actions"})],children:function(e){var t=e.datum;return Object(d.jsxs)(B.b,{children:[Object(d.jsx)(B.a,{children:t.route}),Object(d.jsx)(B.a,{children:t.to}),Object(d.jsx)(B.a,{children:t.title||" "}),Object(d.jsx)(B.a,{children:t.isPublic?"Yes":"No"}),Object(d.jsxs)(B.a,{children:[pe===t.owner&&Object(d.jsx)(X.a,{darkMode:!0,"aria-label":"Delete",onClick:function(){return Se(t._id.toString())},children:Object(d.jsx)(V.a,{glyph:"Trash",fill:"#aa0000"})}),Object(d.jsx)(X.a,{darkMode:!0,"aria-label":"QRCode",onClick:function(){return ke(t.route,t.to)},children:Object(d.jsx)(V.a,{glyph:"Sweep"})}),Object(d.jsx)(X.a,{darkMode:!0,"aria-label":"Chart",onClick:function(){return Ae(t.route)},children:Object(d.jsx)(V.a,{glyph:"Charts"})})]})]},t._id)}})]})}function Z(){var e=Object(E.b)().loginWithRedirect,t=function(){var t=Object(L.a)(Object(z.a)().mark((function t(){return Object(z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Object(v.css)(Q||(Q=Object(r.a)(["\n    grid-area: header;\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    padding: 24px;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n  "]))),a=Object(v.css)(_||(_=Object(r.a)(["\n    padding: 24px;\n    align-items: center;\n  "])));return Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)("section",{className:n,children:Object(d.jsx)(b,{title:"Welcome!"})}),Object(d.jsxs)("section",{className:a,children:[Object(d.jsx)(u.d,{children:"Please login"}),Object(d.jsx)(u.a,{children:"You can use the button below to open a session."}),Object(d.jsx)(P.a,{variant:"primary",onClick:function(){return t()},children:"Log In"})]})]})}var $=n(247);function ee(){return Object(a.useEffect)((function(){new $.a({baseUrl:"https://charts.mongodb.com/charts-mdb-link-tcawx"}).createDashboard({dashboardId:"6304b9d7-df9a-46e5-8fc2-687fa31be646",height:"700px",widthMode:"scale",heightMode:"fixed"}).render(document.getElementById("dashboard"))}),[]),Object(d.jsx)(a.Fragment,{children:Object(d.jsx)("div",{id:"dashboard"})})}function te(){return Object(E.b)().isAuthenticated?Object(d.jsx)(O.a,{}):Object(d.jsx)("div",{children:"You need to login to see this page"})}var ne,re=function(){return Object(d.jsx)(E.a,Object(l.a)(Object(l.a)({},M.AUTH0),{},{children:Object(d.jsx)(F,{appId:M.REALM.appId,children:Object(d.jsx)(s.c,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(O.d,{children:[Object(d.jsx)(O.b,{path:"/login",element:Object(d.jsx)(Z,{})}),Object(d.jsxs)(O.b,{path:"/",element:Object(d.jsx)(A,{}),children:[Object(d.jsxs)(O.b,{path:"app",element:Object(d.jsx)(te,{}),children:[Object(d.jsx)(O.b,{path:"routes",element:Object(d.jsx)(K,{})}),Object(d.jsx)(O.b,{path:"stats",element:Object(d.jsx)(ee,{})})]}),Object(d.jsx)(O.b,{path:"/",element:Object(d.jsx)(I,{})})]})]})})})})}))},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,467)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},ce="".concat("https://d2va9gm4j17fy9.cloudfront.net","/fonts"),ie=Object(v.css)(ne||(ne=Object(r.a)(["\n  /**\n   * Euclid\n   */\n\n  /* Semibold */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Semibold.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: normal;\n  }\n\n  /* Semibold Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: italic;\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Medium.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: normal;\n  }\n\n  /* Medium Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: italic;\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Regular.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: normal;\n  }\n\n  /* Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: italic;\n  }\n\n  /**\n   * Value Serif\n   */\n\n  /* Bold */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 700;\n    src: url('","value-serif/MongoDBValueSerif-Bold.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Bold.woff2') format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Bold.ttf')\n        format('truetype');\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 500;\n    src: url('","value-serif/MongoDBValueSerif-Medium.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Medium.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Medium.ttf')\n        format('truetype');\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 400;\n    src: url('","value-serif/MongoDBValueSerif-Regular.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Regular.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Regular.ttf')\n        format('truetype');\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: normal;\n    src: url('","/akzidgrostdreg.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdreg.eot?#iefix')\n        format('embedded-opentype'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdreg.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdreg.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: 600;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: bold;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  html {\n    font-family: 'Euclid Circular A', 'Akzidenz', 'Helvetica Neue', Helvetica,\n      Arial, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n"])),ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)("div",{className:ie,children:Object(d.jsx)(re,{})})}),document.getElementById("root")),ae()}},[[463,1,2]]]);
//# sourceMappingURL=main.0f399453.chunk.js.map