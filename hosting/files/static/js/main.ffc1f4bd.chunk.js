(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{255:function(e,t,n){},256:function(e,t,n){},333:function(e,t){},335:function(e,t){},374:function(e,t){},376:function(e,t){},404:function(e,t){},406:function(e,t){},407:function(e,t){},412:function(e,t){},414:function(e,t){},420:function(e,t){},422:function(e,t){},441:function(e,t){},453:function(e,t){},456:function(e,t){},463:function(e,t,n){"use strict";n.r(t),n.d(t,"globalStyles",(function(){return ie}));var r=n(30),a=n(2),c=n.n(a),i=n(43),o=n.n(i),l=n(16),u=(n(255),n(256),n(9)),s=n(45),d=n(235),f=n(8);function b(e){var t={width:"".concat(48,"px"),marginRight:"".concat(24,"px")};return Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(f.jsx)(d.a,{style:t,height:48}),Object(f.jsx)(s.b,{children:e.title})]})}var j=n(84),O=n(42),m=n(17);function h(e){var t=e.className,n=Object(m.f)();return Object(f.jsxs)(j.a,{"aria-label":"Navigation Bar",className:t,children:[Object(f.jsx)(j.b,{"aria-label":"Home",as:O.b,active:"/"===n.pathname,to:"/",children:"Home"}),Object(f.jsx)(j.b,{"aria-label":"Short URLs",as:O.b,active:"/app/routes"===n.pathname,to:"/app/routes",children:"Short URLs"}),Object(f.jsx)(j.b,{"aria-label":"Dashboard",as:O.b,active:"/app/stats"===n.pathname,to:"/app/stats",children:"Dashboard"})]})}var p,x,g,A,E=n(0),v=Object(E.css)(p||(p=Object(r.a)(['\n  display: grid;\n  grid-template:\n    [header-start] "header header" 107px [header-end body-start]\n    "side-nav body" auto [body-end] / auto 1fr;\n  width: 100vw;\n  max-width: 100%;\n  height: 100vh;\n  min-width: 767px;\n  margin: 0px;\n']))),w=Object(E.css)(x||(x=Object(r.a)(["\n  grid-area: header;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"]))),S=Object(E.css)(g||(g=Object(r.a)(["\n  grid-area: side-nav;\n"]))),C=Object(E.css)(A||(A=Object(r.a)(["\n  grid-area: body;\n  padding: 12px;\n"])));function _(e){return Object(f.jsxs)("div",{className:v,children:[Object(f.jsx)("section",{className:w,children:Object(f.jsx)(b,{title:"URL Shortener"})}),Object(f.jsx)(h,{className:S}),Object(f.jsx)("section",{className:C,children:Object(f.jsx)(m.a,{})})]})}var T=n(50),y={AUTH0:{domain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:'"mdb-atlas.us.auth0.com",',REACT_APP_AUTH0_CLIENTID:'"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",',REACT_APP_AUTH0_AUDIENCE:"mdb-atlas",REACT_APP_REALM_APP_ID:"admin-toxzg"}).AUTH0_DOMAIN||"",clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:'"mdb-atlas.us.auth0.com",',REACT_APP_AUTH0_CLIENTID:'"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",',REACT_APP_AUTH0_AUDIENCE:"mdb-atlas",REACT_APP_REALM_APP_ID:"admin-toxzg"}).AUTH0_CLIENTID||"",redirectUri:"".concat(window.location.origin),audience:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:'"mdb-atlas.us.auth0.com",',REACT_APP_AUTH0_CLIENTID:'"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",',REACT_APP_AUTH0_AUDIENCE:"mdb-atlas",REACT_APP_REALM_APP_ID:"admin-toxzg"}).AUTH0_AUDIENCE||""},REALM:{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:'"mdb-atlas.us.auth0.com",',REACT_APP_AUTH0_CLIENTID:'"apIOBnUT0iCdOhcBPdTFjImPe84JEv6f",',REACT_APP_AUTH0_AUDIENCE:"mdb-atlas",REACT_APP_REALM_APP_ID:"admin-toxzg"}).REALM_APP_ID}};function P(){var e=Object(T.b)().isAuthenticated;return Object(f.jsxs)(c.a.Fragment,{children:["Welcome to ",Object(f.jsx)("a",{href:"http://mdb.link",children:"mdb.link"})," admin UI.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),!e&&Object(f.jsx)(O.b,{to:"/login",children:"Login"})]})}var I=n(7),R=n(10),D=n(15),k=n(34),L=n(246),M=n(150),U=n(85),N=n(248),B=n(107),z=n(26),H=n(111),W=n(147);function F(e){var t=Object(a.useState)(null),n=Object(D.a)(t,2),r=n[0],c=n[1],i=e.appId,o=Object(T.b)(),l=o.isAuthenticated,u=o.getAccessTokenSilently;Object(a.useEffect)((function(){function e(){return(e=Object(R.a)(Object(I.a)().mark((function e(){var t,n,r,a;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new W.a({id:i}),e.next=3,u({audience:"mdb-atlas"});case 3:return n=e.sent,r=W.b.jwt(n),e.prev=5,e.next=8,t.logIn(r);case 8:return a=e.sent,c(a),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(5),console.error("Failed to log in",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,u,i]);var s={realmUser:r};return Object(f.jsx)(Q.Provider,{value:s,children:e.children})}var V,K,X,J,Y,Q=Object(a.createContext)({realmUser:null}),G=n(243);function q(){var e,t=Object(a.useState)(!1),n=Object(D.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(!1),u=Object(D.a)(l,2),d=u[0],b=u[1],j=Object(a.useState)(""),O=Object(D.a)(j,2),m=O[0],h=O[1],p=Object(a.useState)(!1),x=Object(D.a)(p,2),g=x[0],A=x[1],v=Object(a.useState)(""),w=Object(D.a)(v,2),S=w[0],C=w[1],_=Object(a.useState)({}),T=Object(D.a)(_,2),y=T[0],P=T[1],W=Object(a.useState)(""),F=Object(D.a)(W,2),J=F[0],Y=F[1],q=Object(a.useState)(""),Z=Object(D.a)(q,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(D.a)(te,2),re=ne[0],ae=ne[1],ce=Object(a.useState)(""),ie=Object(D.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(a.useState)(!0),se=Object(D.a)(ue,2),de=se[0],fe=se[1],be=Object(a.useState)([]),je=Object(D.a)(be,2),Oe=je[0],me=je[1],he=Object(a.useContext)(Q).realmUser,pe=null===he||void 0===he?void 0:he.id,xe=Object(E.css)(V||(V=Object(r.a)(["\n    text-align: center;\n  "]))),ge=Object(E.css)(K||(K=Object(r.a)(["\n  \n  "]))),Ae=Object(E.css)(X||(X=Object(r.a)(["\n    text-align: right;\n  "]))),Ee=Object(a.useRef)(null),ve=Object(a.useCallback)(Object(R.a)(Object(I.a)().mark((function e(){var t;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,he.functions.getAllRoutes();case 4:t=e.sent,me(t);case 6:case"end":return e.stop()}}),e)}))),[he]),we=function(){var e=Object(R.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.functions.deleteRoute(t);case 2:ve();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(R.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.functions.insertRoute({route:J,to:oe,title:$,description:re,isPublic:de});case 2:return e.next=4,ve();case 4:Y(""),le(""),ae(""),ee(""),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(R.a)(Object(I.a)().mark((function e(t,n){var r;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(!0);case 2:h("mdb.link".concat(t)),r=Ee.current,G.toCanvas(r,n,{width:480,color:{dark:"#023430"}},(function(e){e&&console.error(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(R.a)(Object(I.a)().mark((function e(t){var n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!0),C(t),n=he.functions.getRouteStats(t),P(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ve()}),[ve]),Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(s.c,{children:"List of Short URLs"}),Object(f.jsx)("p",{className:Ae,children:Object(f.jsx)(B.a,{onClick:function(){return o(!0)},variant:"primary",leftGlyph:Object(f.jsx)(z.a,{glyph:"Plus"}),children:"Insert New Short URL"})}),Object(f.jsxs)(L.a,{open:i,onConfirm:Se,onCancel:function(){return o(!1)},title:"Add New Short URL",buttonText:"Save New Shortie",children:["Create a new short route here.",Object(f.jsx)(U.a,{label:"Short Route",description:"Route starting with '/'",placeholder:"/route",onChange:function(e){return Y(e.target.value)},value:J}),Object(f.jsx)(U.a,{label:"Destination",description:"Enter a destination URL",placeholder:"https://example.com",onChange:function(e){return le(e.target.value)},value:oe}),Object(f.jsx)(U.a,{label:"Title",description:"Shown in the public list when no match is found",placeholder:"",onChange:function(e){return ee(e.target.value)},value:$}),Object(f.jsx)(U.a,{label:"Description",description:"Shown in the link previews",placeholder:"",onChange:function(e){return ae(e.target.value)},value:re}),Object(f.jsx)(N.a,{onChange:function(e){return fe(!de)},label:"Is this item public?",checked:de})]}),Object(f.jsxs)(M.a,{open:d,setOpen:b,className:xe,children:[Object(f.jsxs)(s.d,{children:["QR Code for ",m]}),Object(f.jsx)("canvas",{ref:Ee,width:"300"})]}),Object(f.jsxs)(M.a,{open:g,setOpen:A,className:ge,children:[Object(f.jsxs)(s.d,{children:["Stats for ",S]}),Object(f.jsxs)(s.a,{children:["Number of visitors in the last 7 days: ",(null===y||void 0===y||null===(e=y.stats)||void 0===e?void 0:e.visits)||"0"]})]}),Object(f.jsx)(k.c,{data:Oe,columns:[Object(f.jsx)(k.d,{label:"Short URL",sortBy:function(e){return e.route}}),Object(f.jsx)(k.d,{label:"Destination",sortBy:function(e){return e.to}}),Object(f.jsx)(k.d,{label:"Title",sortBy:function(e){return e.title}}),Object(f.jsx)(k.d,{label:"Public"}),Object(f.jsx)(k.d,{label:"Actions"})],children:function(e){var t=e.datum;return Object(f.jsxs)(k.b,{children:[Object(f.jsx)(k.a,{children:t.route}),Object(f.jsx)(k.a,{children:t.to}),Object(f.jsx)(k.a,{children:t.title||" "}),Object(f.jsx)(k.a,{children:t.isPublic?"Yes":"No"}),Object(f.jsxs)(k.a,{children:[pe===t.owner&&Object(f.jsx)(H.a,{darkMode:!0,"aria-label":"Delete",onClick:function(){return we(t._id.toString())},children:Object(f.jsx)(z.a,{glyph:"Trash",fill:"#aa0000"})}),Object(f.jsx)(H.a,{darkMode:!0,"aria-label":"QRCode",onClick:function(){return Ce(t.route,t.to)},children:Object(f.jsx)(z.a,{glyph:"Sweep"})}),Object(f.jsx)(H.a,{darkMode:!0,"aria-label":"Chart",onClick:function(){return _e(t.route)},children:Object(f.jsx)(z.a,{glyph:"Charts"})})]})]},t._id)}})]})}function Z(){var e=Object(T.b)().loginWithRedirect,t=function(){var t=Object(R.a)(Object(I.a)().mark((function t(){return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Object(E.css)(J||(J=Object(r.a)(["\n    grid-area: header;\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    padding: 24px;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n  "]))),a=Object(E.css)(Y||(Y=Object(r.a)(["\n    padding: 24px;\n    align-items: center;\n  "])));return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("section",{className:n,children:Object(f.jsx)(b,{title:"Welcome!"})}),Object(f.jsxs)("section",{className:a,children:[Object(f.jsx)(s.d,{children:"Please login"}),Object(f.jsx)(s.a,{children:"You can use the button below to open a session."}),Object(f.jsx)(B.a,{variant:"primary",onClick:function(){return t()},children:"Log In"})]})]})}var $=n(247);function ee(){return Object(a.useEffect)((function(){new $.a({baseUrl:"https://charts.mongodb.com/charts-mdb-link-tcawx"}).createDashboard({dashboardId:"6304b9d7-df9a-46e5-8fc2-687fa31be646",height:"700px",widthMode:"scale",heightMode:"fixed"}).render(document.getElementById("dashboard"))}),[]),Object(f.jsx)(a.Fragment,{children:Object(f.jsx)("div",{id:"dashboard"})})}function te(){return Object(T.b)().isAuthenticated?Object(f.jsx)(m.a,{}):Object(f.jsx)("div",{children:"You need to login to see this page"})}var ne,re=function(){return Object(f.jsx)(T.a,Object(l.a)(Object(l.a)({},y.AUTH0),{},{children:Object(f.jsx)(F,{appId:y.REALM.appId,children:Object(f.jsx)(u.c,{children:Object(f.jsx)(O.a,{children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/login",element:Object(f.jsx)(Z,{})}),Object(f.jsxs)(m.b,{path:"/",element:Object(f.jsx)(_,{}),children:[Object(f.jsxs)(m.b,{path:"app",element:Object(f.jsx)(te,{}),children:[Object(f.jsx)(m.b,{path:"routes",element:Object(f.jsx)(q,{})}),Object(f.jsx)(m.b,{path:"stats",element:Object(f.jsx)(ee,{})})]}),Object(f.jsx)(m.b,{path:"/",element:Object(f.jsx)(P,{})})]})]})})})})}))},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,467)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},ce="".concat("https://d2va9gm4j17fy9.cloudfront.net","/fonts"),ie=Object(E.css)(ne||(ne=Object(r.a)(["\n  /**\n   * Euclid\n   */\n\n  /* Semibold */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Semibold-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Semibold.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: normal;\n  }\n\n  /* Semibold Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-SemiboldItalic.ttf')\n        format('truetype');\n    font-weight: 700;\n    font-style: italic;\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Medium-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Medium.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: normal;\n  }\n\n  /* Medium Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-MediumItalic.ttf')\n        format('truetype');\n    font-weight: 500;\n    font-style: italic;\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-Regular-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-Regular.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: normal;\n  }\n\n  /* Italic */\n  @font-face {\n    font-family: 'Euclid Circular A';\n    src: url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff')\n        format('woff'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic-WebXL.woff2')\n        format('woff2'),\n      url('","euclid-circular/EuclidCircularA-RegularItalic.ttf')\n        format('truetype');\n    font-weight: 400;\n    font-style: italic;\n  }\n\n  /**\n   * Value Serif\n   */\n\n  /* Bold */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 700;\n    src: url('","value-serif/MongoDBValueSerif-Bold.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Bold.woff2') format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Bold.ttf')\n        format('truetype');\n  }\n\n  /* Medium */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 500;\n    src: url('","value-serif/MongoDBValueSerif-Medium.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Medium.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Medium.ttf')\n        format('truetype');\n  }\n\n  /* Normal */\n  @font-face {\n    font-family: 'MongoDB Value Serif';\n    font-weight: 400;\n    src: url('","value-serif/MongoDBValueSerif-Regular.woff')\n        format('woff'),\n      url('","value-serif/MongoDBValueSerif-Regular.woff2')\n        format('woff2'),\n      url('","value-serif/MongoDBValueSerif-Regular.ttf')\n        format('truetype');\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: normal;\n    src: url('","/akzidgrostdreg.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdreg.eot?#iefix')\n        format('embedded-opentype'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdreg.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdreg.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: 600;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  @font-face {\n    font-family: 'Akzidenz';\n    font-weight: bold;\n    src: url('","/akzidgrostdmed.eot');\n    /* IE9 Compat Modes */\n    src: url('","/akzidgrostdmed.eot?#iefix')\n        format('embedded-opentype'),\n      /* IE6-IE8 */ url('","/akzidgrostdmed.woff') format('woff'),\n      /* Pretty Modern Browsers */ url('","/akzidgrostdmed.ttf')\n        format('truetype'),\n      /* Safari, Android, iOS */ url('","/akzidgrostdmed.svg#Akzidenz')\n        format('svg');\n    /* Legacy iOS */\n  }\n\n  html {\n    font-family: 'Euclid Circular A', 'Akzidenz', 'Helvetica Neue', Helvetica,\n      Arial, sans-serif;\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n"])),ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)("div",{className:ie,children:Object(f.jsx)(re,{})})}),document.getElementById("root")),ae()}},[[463,1,2]]]);
//# sourceMappingURL=main.ffc1f4bd.chunk.js.map